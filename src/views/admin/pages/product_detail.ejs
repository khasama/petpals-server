<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head', {domain}) %>
</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- slide trái -->
        <%- include('../partials/left') %>
            <!-- End slide trái -->

            <!-- Content Wrapper -->
            <div id="content-wrapper" class="d-flex flex-column">

                <!-- Main Content -->
                <div id="content">

                    <!-- Top bar -->
                    <%- include('../partials/top') %>
                        <!-- End of Top bar -->

                        <!-- Begin Page Content -->
                        <div class="container-fluid" style="margin-top: 20px;">

                            <div>
                                <div class="form-group">
                                    <label for="Name">Name:</label>
                                    <input type="text" class="form-control" id="updateProductName" autocomplete="off"
                                        value="<%- product.name %>">
                                </div>
                                <div class="form-group">
                                    <label for="Description">Description:</label>
                                    <textarea id="updateProductDescription"><%- product.description %></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="Images">Image(s):</label>
                                    <input type="file" class="form-control" id="updateProductImages" multiple
                                        accept="image/*">

                                    <div class="mt-2 d-flex">
                                        <% product.images.forEach(img=> { %>
                                            <div style="position: relative;" class="mr-2" id="image-<%- img %>">
                                                <img src="<%- domain %>media/image/<%- img %>" alt="" width="200"
                                                    class="mr-2">
                                                <a href="javascript:void(0)"
                                                    style="position: absolute;color: red; top: 5px; right: 15px;"
                                                    title="Xóa" onclick="deleteProductImage(this)"
                                                    data-image="<%- img %>" data-id="<%- product._id %>">
                                                    <i class="fa-solid fa-trash"></i>
                                                </a>
                                            </div>
                                            <%})%>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="Price">Price:</label>
                                    <input type="number" class="form-control" id="updateProductPrice"
                                        value="<%- product.price %>">
                                </div>
                                <div class="form-group d-flex">
                                    <label for="Item" style="line-height: 30px;">Item:</label>
                                    <select id="updateProductItem" class="w-50 form-control ml-2">
                                        <% items.forEach(item=> { %>
                                            <option value="<%- item._id %>" <%-
                                                String(item._id)==String(product.item._id) ? 'selected' :'' %>>
                                                <%- item.name %>
                                            </option>
                                            <% }); %>

                                    </select>
                                </div>
                                <div class="form-group d-flex">
                                    <label for="Subitem" style="line-height: 30px;">Sub item:</label>
                                    <select id="updateProductSubitem" class="w-50 form-control ml-2">
                                        <% subitems.forEach(subitem=> { %>
                                            <option value="<%- subitem._id %>" <%-
                                                String(subitem._id)===String(product.subitem._id) ? 'selected' :'' %>>
                                                <%- subitem.name %>
                                            </option>
                                            <% }); %>
                                    </select>
                                </div>

                                <input type="hidden" value="<%- product._id %>" id="updateProductId">

                                <button id="updateProduct" class="btn btn-primary">Save</button>
                            </div>
                        </div>
                        <!-- -->

                </div>
                <!-- End of Main Content -->

                <!-- Footer -->
                <%- include('../partials/footer') %>
                    <!-- End of Footer -->

            </div>
            <!-- End of Content Wrapper -->
    </div>
    <!-- End of Page Wrapper -->

    <%- include('../partials/bot') %>

</body>

</html>